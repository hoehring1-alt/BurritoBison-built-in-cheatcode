<link rel="stylesheet" href="style.css">
    <script src="UnityProgress.js"></script>
	<script src="burrito-bison-ll.js"></script>
	<script src="kongregate_api.js"></script>
    <script>
      var gameInstance = UnityLoader.instantiate("gameContainer", "burrito-bison-ll.json", {onProgress: UnityProgress,Module:{onRuntimeInitialized: function() {UnityProgress(gameInstance, "complete")}}});
    </script>
    <div class="webgl-content">
        <div id="gameContainer" style="width: 100%; height: 100%; margin: auto"></div>
        </div>

<script>
    window.onload = function() {
        // Wait for the Unity instance to be created
        createUnityInstance(document.querySelector("#unity-canvas"), {
            // Your Unity loader parameters
        }).then(unityInstance => {
            // Use setTimeout to give the instance a few seconds to fully initialize
            setTimeout(function() {
                window.addEventListener('keydown', function(event) {
                    if (event.key === 'c' || event.keyCode === 67) {
                        event.preventDefault();
                        
                        try {
                            let found = false;
                            let currencyProperties = ['money', 'cash', 'coins', 'dollars', 'peso', 'score'];

                            // Attempt to find the game object through the Unity instance's Module
                            for (let key in unityInstance.Module) {
                                if (typeof unityInstance.Module[key] === 'object' && unityInstance.Module[key] !== null) {
                                    for (let prop of currencyProperties) {
                                        if (unityInstance.Module[key][prop] !== undefined) {
                                            alert("Potential game object found inside Unity Module:\n" + `Object: ${key}, Currency: ${prop}`);
                                            found = true;
                                        }
                                    }
                                }
                            }

                            if (!found) {
                                // If not found, try searching the global window object again as a fallback
                                let potentialObjects = [];
                                for (let key in window) {
                                    if (typeof window[key] === 'object' && window[key] !== null) {
                                        for (let prop of currencyProperties) {
                                            if (window[key][prop] !== undefined) {
                                                potentialObjects.push(`Object: ${key}, Currency: ${prop}`);
                                            }
                                        }
                                    }
                                }

                                if (potentialObjects.length > 0) {
                                    alert("Potential game objects found globally:\n" + potentialObjects.join("\n"));
                                } else {
                                    alert("The 'game' object or currency property was not found.");
                                }
                            }

                        } catch (e) {
                            alert("An error occurred with the cheat code: " + e.message);
                        }
                    }
                });
            }, 5000); // 5-second delay to be safe
        }).catch((message) => {
            console.error("Error creating Unity instance:", message);
        });
    };
</script>
</body>
</html>

</body>
</html>

</body>
</html>

</body>
</html>
