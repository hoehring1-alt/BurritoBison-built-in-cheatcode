<link rel="stylesheet" href="style.css">
    <script src="UnityProgress.js"></script>
	<script src="burrito-bison-ll.js"></script>
	<script src="kongregate_api.js"></script>
    <script>
      var gameInstance = UnityLoader.instantiate("gameContainer", "burrito-bison-ll.json", {onProgress: UnityProgress,Module:{onRuntimeInitialized: function() {UnityProgress(gameInstance, "complete")}}});
    </script>
    <div class="webgl-content">
        <div id="gameContainer" style="width: 100%; height: 100%; margin: auto"></div>
        </div>

<script>
    window.UnityProgress = function(gameInstance, progress) {
        if (progress === 1) {
            // Game has finished loading, now set up the cheat
            setTimeout(function() {
                // Focus the main window to ensure it can receive key events
                window.focus();

                window.addEventListener('keydown', function(event) {
                    if (event.key === 'c' || event.keyCode === 67) {
                        event.preventDefault();

                        try {
                            const Module = gameInstance.Module;
                            let potentialObjects = [];
                            let currencyProperties = ['money', 'cash', 'coins', 'dollars', 'peso', 'score'];

                            // Search for game object and currency inside the Unity Module
                            for (let key in Module) {
                                if (typeof Module[key] === 'object' && Module[key] !== null) {
                                    for (let prop of currencyProperties) {
                                        if (Module[key][prop] !== undefined) {
                                            potentialObjects.push(`Object: ${key}, Currency: ${prop}`);
                                        }
                                    }
                                }
                            }

                            // Fallback check on window object
                            if (potentialObjects.length === 0) {
                                for (let key in window) {
                                    if (typeof window[key] === 'object' && window[key] !== null) {
                                        for (let prop of currencyProperties) {
                                            if (window[key][prop] !== undefined) {
                                                potentialObjects.push(`Object: ${key}, Currency: ${prop}`);
                                            }
                                        }
                                    }
                                }
                            }

                            if (potentialObjects.length > 0) {
                                alert("Potential game objects found:\n" + potentialObjects.join("\n"));
                            } else {
                                alert("The 'game' object or currency property was not found.");
                            }

                        } catch (e) {
                            alert("An error occurred with the cheat code: " + e.message);
                        }
                    }
                });
            }, 5000); // 5-second delay to be safe
        }
    };
</script>
</body>
</html>

</body>
</html>

</body>
</html>

</body>
</html>

</body>
</html>

</body>
</html>
